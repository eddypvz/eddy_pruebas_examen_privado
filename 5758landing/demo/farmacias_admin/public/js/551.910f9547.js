"use strict";(self["webpackChunk_coreui_coreui_free_vue_admin_template"]=self["webpackChunk_coreui_coreui_free_vue_admin_template"]||[]).push([[551],{5551:function(e,a,t){t.r(a),t.d(a,{default:function(){return x}});t(7658);var r=t(3396),s=t(9242);const o=(0,r._)("strong",null,"Listado de usuarios",-1),l={class:"mb-3"},u=(0,r._)("label",{for:"password",class:"form-label"},"Buscar por",-1),i={class:"row"},n={class:"col-3"},c=(0,r._)("option",{value:"email"},"Correo electrónico",-1),d=(0,r._)("option",{value:"corporativo"},"Corporativo",-1),m=(0,r._)("option",{value:"name"},"Nombre",-1),p=[c,d,m],_={class:"col-3"},f=["onClick"],v=["onClick"];function h(e,a,t,c,d,m){const h=(0,r.up)("CCardHeader"),C=(0,r.up)("EasyDataTable"),b=(0,r.up)("CCardBody"),w=(0,r.up)("CCard"),g=(0,r.up)("CCol"),x=(0,r.up)("CRow");return(0,r.wg)(),(0,r.j4)(x,null,{default:(0,r.w5)((()=>[(0,r.Wm)(g,{xs:12},{default:(0,r.w5)((()=>[(0,r.Wm)(w,{class:"mb-4"},{default:(0,r.w5)((()=>[(0,r.Wm)(h,null,{default:(0,r.w5)((()=>[o,(0,r._)("button",{onClick:a[0]||(a[0]=a=>e.$router.push("/usuarios/edit/0")),class:"btn btn-primary float-end"},"Crear nuevo")])),_:1}),(0,r.Wm)(b,null,{default:(0,r.w5)((()=>[(0,r._)("div",null,[(0,r._)("div",l,[u,(0,r._)("div",i,[(0,r._)("div",n,[(0,r.wy)((0,r._)("select",{class:"form-select","onUpdate:modelValue":a[1]||(a[1]=e=>d.typeSearch=e)},p,512),[[s.bM,d.typeSearch]])]),(0,r._)("div",_,[(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=e=>d.searchValue=e),class:"form-control",placeholder:"Escribe aquí tu búsqueda"},null,512),[[s.nr,d.searchValue]])])])])]),(0,r.Wm)(C,{headers:d.headers,items:d.items,"search-field":d.typeSearch,"search-value":d.searchValue,alternating:""},{"item-operation":(0,r.w5)((e=>[(0,r._)("div",null,[(0,r._)("i",{class:"fas fa-pencil icon me-3",onClick:a=>m.editItem(e)},null,8,f),(0,r._)("i",{class:"fas fa-trash icon",onClick:a=>m.deleteItem(e)},null,8,v)])])),_:1},8,["headers","items","search-field","search-value"])])),_:1})])),_:1})])),_:1})])),_:1})}var C=t(4768),b={name:"Tables",data(){return{typeSearch:"email",searchValue:"",headers:[{text:"Nombre de usuario",value:"nombreUsuario"},{text:"Correo electrónico",value:"email"},{text:"Nombre",value:"name"},{text:"Corporativo",value:"corporativo"},{text:"Estado",value:"estado"},{text:"Rol",value:"rolUsuario"},{text:"Operación",value:"operation"}],items:[]}},mounted(){this.getItems()},methods:{getItems(){const e=this;C.Z.doAjax("GET","users/list",{},(function(a){e.items=C.Z.prepareForTable(a.data)}),(function(e){C.Z.alert(e.msg,"danger")}))},deleteItem(e){const a=this;C.Z.confirm("Se desactivará este usuario, ¿desea continuar?",(function(){C.Z.doAjax("POST","users/user/delete",{id:e.id},(function(e){C.Z.alert(e.msg,"success"),a.getItems()}),(function(e){C.Z.alert(e.msg,"danger")}))}))},editItem(e){this.$router.push("/usuarios/edit/"+e.id)}}},w=t(89);const g=(0,w.Z)(b,[["render",h]]);var x=g}}]);
//# sourceMappingURL=551.910f9547.js.map