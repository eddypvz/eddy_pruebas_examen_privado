"use strict";(self["webpackChunk_coreui_coreui_free_vue_admin_template"]=self["webpackChunk_coreui_coreui_free_vue_admin_template"]||[]).push([[18],{8717:function(e,s,a){a.d(s,{Z:function(){return M}});var l=a(3396);const o=(0,l._)("strong",null,"Vue Select",-1),r=(0,l._)("small",null,"Default",-1),t=(0,l._)("option",null,"Open this select menu",-1),i=(0,l._)("option",{value:"1"},"One",-1),n=(0,l._)("option",{value:"2"},"Two",-1),u=(0,l._)("option",{value:"3"},"Three",-1),c=(0,l._)("strong",null,"Vue Select",-1),d=(0,l._)("small",null,"Sizing",-1),m=(0,l._)("p",{class:"text-medium-emphasis small"}," You may also choose from small and large custom selects to match our similarly sized text inputs. ",-1),p=(0,l._)("option",null,"Open this select menu",-1),_=(0,l._)("option",{value:"1"},"One",-1),f=(0,l._)("option",{value:"2"},"Two",-1),h=(0,l._)("option",{value:"3"},"Three",-1),w=(0,l._)("option",null,"Open this select menu",-1),b=(0,l._)("option",{value:"1"},"One",-1),v=(0,l._)("option",{value:"2"},"Two",-1),g=(0,l._)("option",{value:"3"},"Three",-1),y=(0,l._)("p",{class:"text-medium-emphasis small"},[(0,l.Uk)(" The "),(0,l._)("code",null,"multiple"),(0,l.Uk)(" attribute is also supported: ")],-1),C=(0,l._)("option",null,"Open this select menu",-1),k=(0,l._)("option",{value:"1"},"One",-1),x=(0,l._)("option",{value:"2"},"Two",-1),U=(0,l._)("option",{value:"3"},"Three",-1),W=(0,l._)("p",{class:"text-medium-emphasis small"},[(0,l.Uk)(" As is the "),(0,l._)("code",null,"html-size"),(0,l.Uk)(" property: ")],-1),S=(0,l._)("option",null,"Open this select menu",-1),D=(0,l._)("option",{value:"1"},"One",-1),T=(0,l._)("option",{value:"2"},"Two",-1),E=(0,l._)("option",{value:"3"},"Three",-1),P=(0,l._)("strong",null,"Vue Select",-1),V=(0,l._)("small",null,"Disabled",-1),Z=(0,l._)("p",{class:"text-medium-emphasis small"},[(0,l.Uk)(" Add the "),(0,l._)("code",null,"disabled"),(0,l.Uk)(" boolean attribute on a select to give it a grayed out appearance and remove pointer events. ")],-1),O=(0,l._)("option",null,"Open this select menu",-1),z=(0,l._)("option",{value:"1"},"One",-1),I=(0,l._)("option",{value:"2"},"Two",-1),q=(0,l._)("option",{value:"3"},"Three",-1);function A(e,s,a,A,j,H){const L=(0,l.up)("CCardHeader"),M=(0,l.up)("CFormSelect"),N=(0,l.up)("DocsExample"),F=(0,l.up)("CCardBody"),$=(0,l.up)("CCard"),G=(0,l.up)("CCol"),R=(0,l.up)("CRow");return(0,l.wg)(),(0,l.j4)(R,null,{default:(0,l.w5)((()=>[(0,l.Wm)(G,{xs:12},{default:(0,l.w5)((()=>[(0,l.Wm)($,{class:"mb-4"},{default:(0,l.w5)((()=>[(0,l.Wm)(L,null,{default:(0,l.w5)((()=>[o,(0,l.Uk)(),r])),_:1}),(0,l.Wm)(F,null,{default:(0,l.w5)((()=>[(0,l.Wm)(N,{href:"forms/select.html"},{default:(0,l.w5)((()=>[(0,l.Wm)(M,{"aria-label":"Default select example"},{default:(0,l.w5)((()=>[t,i,n,u])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,l.Wm)(G,{xs:12},{default:(0,l.w5)((()=>[(0,l.Wm)($,{class:"mb-4"},{default:(0,l.w5)((()=>[(0,l.Wm)(L,null,{default:(0,l.w5)((()=>[c,(0,l.Uk)(),d])),_:1}),(0,l.Wm)(F,null,{default:(0,l.w5)((()=>[m,(0,l.Wm)(N,{href:"forms/select.html#sizing"},{default:(0,l.w5)((()=>[(0,l.Wm)(M,{size:"lg",class:"mb-3","aria-label":"Large select example"},{default:(0,l.w5)((()=>[p,_,f,h])),_:1}),(0,l.Wm)(M,{size:"sm",class:"mb-3","aria-label":"Small select example"},{default:(0,l.w5)((()=>[w,b,v,g])),_:1})])),_:1}),y,(0,l.Wm)(N,{href:"forms/select.html#sizing"},{default:(0,l.w5)((()=>[(0,l.Wm)(M,{size:"lg",multiple:"","aria-label":"Multiple select example"},{default:(0,l.w5)((()=>[C,k,x,U])),_:1})])),_:1}),W,(0,l.Wm)(N,{href:"forms/select.html#sizing"},{default:(0,l.w5)((()=>[(0,l.Wm)(M,{size:"lg",multiple:"","aria-label":"Multiple select example"},{default:(0,l.w5)((()=>[S,D,T,E])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,l.Wm)(G,{xs:12},{default:(0,l.w5)((()=>[(0,l.Wm)($,{class:"mb-4"},{default:(0,l.w5)((()=>[(0,l.Wm)(L,null,{default:(0,l.w5)((()=>[P,(0,l.Uk)(),V])),_:1}),(0,l.Wm)(F,null,{default:(0,l.w5)((()=>[Z,(0,l.Wm)(N,{href:"forms/select.html#disabled"},{default:(0,l.w5)((()=>[(0,l.Wm)(M,{"aria-label":"Disabled select example",disabled:""},{default:(0,l.w5)((()=>[O,z,I,q])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var j={name:"Select"},H=a(89);const L=(0,H.Z)(j,[["render",A]]);var M=L},6018:function(e,s,a){a.r(s),a.d(s,{default:function(){return ae}});a(7658);var l=a(3396),o=a(9242),r=a(7139);const t=(0,l._)("strong",null,"Editar usuario",-1),i={class:"row"},n={class:"col-12 col-sm-4"},u={class:"mb-3"},c=(0,l._)("label",{for:"Username",class:"form-label"},"Nombre de usuario (Inicio de sesión) *",-1),d={class:"col-12 col-sm-4"},m={class:"mb-3"},p=(0,l._)("label",{for:"correoElectronico",class:"form-label"},"Correo electrónico",-1),_={class:"col-12 col-sm-4"},f={class:"mb-3"},h=(0,l._)("label",{for:"Nombre",class:"form-label"},"Nombre",-1),w={class:"col-12 col-sm-4"},b={class:"mb-3"},v=(0,l._)("label",{for:"password",class:"form-label"},"Rol asignado",-1),g=["value"],y={class:"col-12 col-sm-4"},C={class:"mb-3"},k=(0,l._)("label",{for:"Nombre",class:"form-label"},"Teléfono",-1),x={class:"col-12 col-sm-4"},U={class:"mb-3"},W=(0,l._)("label",{for:"Nombre",class:"form-label"},"Estado",-1),S=(0,l._)("option",{value:"1"},"Activo",-1),D=(0,l._)("option",{value:"0"},"Desactivado",-1),T=[S,D],E={class:"row"},P={class:"col-12 col-sm-6"},V={class:"form-check mt-2"},Z=(0,l._)("label",{class:"form-check-label",for:"cambiarpass"}," Cambiar contraseña ",-1),O={class:"mt-4"},z=(0,l._)("label",{for:"password",class:"form-label"},"Contraseña",-1),I={class:"row mt-2"},q={class:"col-6"},A={class:"col-6"},j={class:"mt-5"},H=(0,l._)("h5",null,"Políticas de seguridad",-1),L=(0,l._)("hr",null,null,-1),M={class:"row"},N={class:"col-12 col-sm-6"},F=(0,l._)("label",{for:"password",class:"form-label"},"Días para expiración de contraseña (0 = nunca)",-1),$={class:"mt-5"},G=(0,l._)("h5",null,"Historial de eventos",-1),R=(0,l._)("hr",null,null,-1),B={class:"mt-3"},K={class:"mt-4 text-end"};function Y(e,s,a,S,D,Y){const J=(0,l.up)("CCardHeader"),Q=(0,l.up)("EasyDataTable"),X=(0,l.up)("CCardBody"),ee=(0,l.up)("CCard"),se=(0,l.up)("CCol"),ae=(0,l.up)("CRow");return(0,l.wg)(),(0,l.j4)(ae,null,{default:(0,l.w5)((()=>[(0,l.Wm)(se,{xs:12},{default:(0,l.w5)((()=>[(0,l.Wm)(ee,{class:"mb-4"},{default:(0,l.w5)((()=>[(0,l.Wm)(J,null,{default:(0,l.w5)((()=>[t])),_:1}),(0,l.Wm)(X,null,{default:(0,l.w5)((()=>[(0,l._)("div",i,[(0,l._)("div",n,[(0,l._)("div",u,[c,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"Username",placeholder:"Escribe aquí","onUpdate:modelValue":s[0]||(s[0]=e=>D.user.nombreUsuario=e),required:""},null,512),[[o.nr,D.user.nombreUsuario]])])]),(0,l._)("div",d,[(0,l._)("div",m,[p,(0,l.wy)((0,l._)("input",{type:"email",class:"form-control",id:"correoElectronico",placeholder:"name@ejemplo.com","onUpdate:modelValue":s[1]||(s[1]=e=>D.user.correoElectronico=e)},null,512),[[o.nr,D.user.correoElectronico]])])]),(0,l._)("div",_,[(0,l._)("div",f,[h,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"Nombre",placeholder:"Escribe aquí","onUpdate:modelValue":s[2]||(s[2]=e=>D.user.nombre=e)},null,512),[[o.nr,D.user.nombre]])])]),(0,l._)("div",w,[(0,l._)("div",b,[v,(0,l.wy)((0,l._)("select",{class:"form-select","onUpdate:modelValue":s[3]||(s[3]=e=>D.user.rolUsuario=e)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(D.roleList,(e=>((0,l.wg)(),(0,l.iD)("option",{value:e.id},(0,r.zw)(e.name),9,g)))),256))],512),[[o.bM,D.user.rolUsuario]])])]),(0,l._)("div",y,[(0,l._)("div",C,[k,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"Telefono",placeholder:"Escribe aquí","onUpdate:modelValue":s[4]||(s[4]=e=>D.user.telefono=e)},null,512),[[o.nr,D.user.telefono]])])]),(0,l._)("div",x,[(0,l._)("div",U,[W,(0,l.wy)((0,l._)("select",{class:"form-control","onUpdate:modelValue":s[5]||(s[5]=e=>D.user.active=e)},T,512),[[o.bM,D.user.active]])])])]),(0,l._)("div",E,[(0,l._)("div",P,[(0,l._)("div",null,[(0,l._)("div",V,[(0,l.wy)((0,l._)("input",{class:"form-check-input",type:"checkbox",value:"1",id:"cambiarpass","onUpdate:modelValue":s[6]||(s[6]=e=>D.changePassword=e)},null,512),[[o.e8,D.changePassword]]),Z]),(0,l.wy)((0,l._)("div",O,[(0,l._)("div",null,[z,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"password",placeholder:"Escribe aquí","onUpdate:modelValue":s[7]||(s[7]=e=>D.user.password=e),onInput:s[8]||(s[8]=(...e)=>Y.password_check&&Y.password_check(...e))},null,544),[[o.nr,D.user.password]])]),(0,l._)("div",null,[(0,l._)("div",I,[(0,l._)("div",q,[D.passwordSecurity.longitudPass>0?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,r.C_)(["frmValidation",{"frmValidation--passed":"undefined"!==typeof D.user.password.length&&D.has_lenght}])},[(0,l._)("i",{class:(0,r.C_)(["frmIcon fas",D.has_lenght?"fa-check":"fa-times"])},null,2),(0,l.Uk)(" Más de "+(0,r.zw)(D.passwordSecurity.longitudPass)+" caracteres ",1)],2)):(0,l.kq)("",!0),D.passwordSecurity.letrasPass>0?((0,l.wg)(),(0,l.iD)("div",{key:1,class:(0,r.C_)(["frmValidation",{"frmValidation--passed":D.has_uppercase}])},[(0,l._)("i",{class:(0,r.C_)(["frmIcon fas",D.has_uppercase?"fa-check":"fa-times"])},null,2),(0,l.Uk)(" Contiene mayúsculas ")],2)):(0,l.kq)("",!0)]),(0,l._)("div",A,[D.passwordSecurity.numerosPass>0?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,r.C_)(["frmValidation",{"frmValidation--passed":D.has_number}])},[(0,l._)("i",{class:(0,r.C_)(["frmIcon fas",D.has_number?"fa-check":"fa-times"])},null,2),(0,l.Uk)(" Contiene números ")],2)):(0,l.kq)("",!0),D.passwordSecurity.caracteresPass>0?((0,l.wg)(),(0,l.iD)("div",{key:1,class:(0,r.C_)(["frmValidation",{"frmValidation--passed":D.has_special}])},[(0,l._)("i",{class:(0,r.C_)(["frmIcon fas",D.has_special?"fa-check":"fa-times"])},null,2),(0,l.Uk)(" Contiene caracteres especiales ")],2)):(0,l.kq)("",!0)])])])],512),[[o.F8,D.changePassword]])])])]),(0,l._)("div",j,[H,L,(0,l._)("div",M,[(0,l._)("div",N,[(0,l._)("div",null,[F,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",id:"password",placeholder:"Escribe aquí","onUpdate:modelValue":s[9]||(s[9]=e=>D.user.expiryDays=e)},null,512),[[o.nr,D.user.expiryDays]])])])])]),(0,l._)("div",$,[G,R,(0,l.Wm)(Q,{headers:D.logHeaders,items:D.logItems,alternating:"","rows-items":[25,50,100],"rows-per-page":"5"},null,8,["headers","items"])]),(0,l._)("div",B,[(0,l._)("div",null,[(0,l._)("div",K,[(0,l._)("button",{onClick:s[10]||(s[10]=(...e)=>Y.guardar&&Y.guardar(...e)),class:"btn btn-primary me-4"},"Guardar"),(0,l._)("button",{onClick:s[11]||(s[11]=s=>e.$router.push("/usuarios/listado")),class:"btn btn-danger"},"Cancelar")])])])])),_:1})])),_:1})])),_:1})])),_:1})}var J=a(4768),Q=a(8717),X=(a(2492),{name:"Tables",components:{Select:Q.Z},data(){return{id:0,user:{id:0,nombre:"",nombreUsuario:"",correoElectronico:"",expiryDays:0,telefono:"",corporativo:"",password:"",rolUsuario:0,active:0,log:{}},changePassword:!1,sendCredentials:!1,sendCredentialsEmail:!1,sendCredentialsSMS:!1,sendCredentialsWhatsapp:!1,roleList:{},has_lenght:!1,has_number:!1,has_lowercase:!1,has_uppercase:!1,has_special:!1,logHeaders:[{text:"Fecha y hora",value:"date"},{text:"IP",value:"ipFrom"},{text:"Agente",value:"userAgent"}],logItems:[],appList:{},apiKeyList:{},passwordSecurity:{}}},mounted(){this.id="undefined"!==typeof this.$route.params.id?parseInt(this.$route.params.id):0,this.getData()},methods:{getData(){const e=this;J.Z.doAjax("GET","configuration/load",{},(function(s){e.passwordSecurity=s.data.passwordSecurity||{}}),(function(e){J.Z.alert(e.msg,"danger")})),J.Z.doAjax("GET","users/role/list",{},(function(s){e.roleList=s.data,e.id>0&&J.Z.doAjax("GET","users/load/user/"+e.id,{},(function(s){e.user.id=s.data.id,e.user.nombreUsuario=s.data.nombreUsuario,e.user.correoElectronico=s.data.email,e.user.nombre=s.data.name,e.user.rolUsuario=s.data.rolUsuario,e.user.telefono=s.data.telefono,e.user.expiryDays=s.data.expiryDays,e.user.active=s.data.active,e.user.password="",e.logItems=J.Z.prepareForTable(s.data.logs),e.changePassword=!1}),(function(e){J.Z.alert(e.msg,"danger")}))}),(function(e){J.Z.alert(e.msg,"danger")}))},guardar(){const e=this,s=e.user;s.changePassword=this.changePassword;let a=!1;J.Z.isEmpty(this.user.nombreUsuario)&&(J.Z.alert("Debe ingresar un nombre de usuario","danger"),a=!0),this.password_check(),a||J.Z.doAjax("POST","users/save-user",s,(function(s){J.Z.alert(s.msg,"success"),e.$router.push("/usuarios/listado")}),(function(e){J.Z.alert(e.msg,"danger")}))},password_check:function(){this.passwordSecurity.longitudPass>0?this.has_lenght=this.user.password.length>this.passwordSecurity.longitudPass:this.has_lenght=!0,this.passwordSecurity.numerosPass>0?this.has_number=/\d/.test(this.user.password):this.has_number=!0,this.passwordSecurity.letrasPass>0?this.has_uppercase=/[A-Z]/.test(this.user.password):this.has_uppercase=!0,this.passwordSecurity.caracteresPass>0?this.has_special=/[!@#\$%\^\&*\)\(+=._-]/.test(this.user.password):this.has_special=!0}}}),ee=a(89);const se=(0,ee.Z)(X,[["render",Y]]);var ae=se}}]);
//# sourceMappingURL=18.622d5d79.js.map